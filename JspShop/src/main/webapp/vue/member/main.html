<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>회원가입</title>
<!-- bootstrap 1 -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- jquery 2 -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

<!-- vue -->
<script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>

<script>
let app1;
const Row ={
		template: 
   			`
   			<tr>
   				<td>{{id}}</td>
   				<td>{{pass}}</td>		
   				<td>{{name}}</td>
   				<td>{{email}}</td>	
   				<td>{{addr1}}</td>		
   				<td>{{addr2}}</td>
   			</tr>
   			`
   			,props : ['id', 'pass', 'name', 'email', 'addr1', 'addr2']
   			,data(){
   				return{
   					m_id:this.id,
   					m_pass:this.pass,
   					m_name:this.name,
   					m_email:this.email,
   					m_addr1:this.addr1,
   					m_addr2:this.addr2
   				}
   			}
};

function init(){
	app1= new Vue({
		el:"#app1",
		components:{
			"row" : Row
		},
		data:{
			memberList:[]
		}
	});
}

function getMemberList() {
	$.ajax({
		url:"/vue/member/list.jsp",
		type:"GET",
		success : function(result, status, xhr){
			console.log(result);
			app1.memberList=result;
		}
	});
}

function registMember() {
	$.ajax({
		url:"/member/regist.jsp",
		typ
	});
}

$(function(){
	init();
	getMemberList();
	$("#bt_regist").click(function(){
		registMember();
	})
});

</script>

</head>
<body>
    <div class="container" id="app1">
        <div class="row mt-2">
            <div class="col-md-2 border">
                <div class="form-group mt-2">
                    <input class="form-control" placeholder="id를 입력하세요" name="id">
                </div>
                <div class="form-group mt-2">
                    <input class="form-control" placeholder="pass를 입력하세요" name="pass">
                </div>
                <div class="form-group mt-2">
                    <input class="form-control" placeholder="name을 입력하세요" name="name">
                </div>
                <div class="form-group mt-2">
                    <input class="form-control" placeholder="email을 입력하세요" name="email">
                </div>
                <div class="form-group mt-2">
                    <input class="form-control" placeholder="addr1을 입력하세요" name="addr1">
                </div>
                <div class="form-group mt-2">
                    <input class="form-control" placeholder="addr2을 입력하세요" name="addr2">
                </div>
                <div class="form-group mt-2">
                    <button id="bt_regist" type="button"  class="btn btn-dark" >등록</button>
                </div>
            </div>
				<div class="col-md-8 border" style="overflow:scroll" id="app1">
                     <table class="table">
                         <thead class="thead-dark">
                             <tr>
                                <th>id</th>
                                 <th>pass</th>
                                 <th>name</th>
                                 <th>email</th>
                                 <th>addr1</th>
                                 <th>addr2</th>
                             </tr>
                         </thead>
						<tbody id="tbody" >
							<template v-for="member in memberList">
								<row v-bind:id="member['id']"
											v-bind:pass="member['pass']"
											v-bind:name="member['name']"
											v-bind:email="member['email']"
											v-bind:addr1="member['addr1']"
											v-bind:addr2="member['addr2']"
								/>
							</template>
						</tbody>
                </table>
            </div>
            <div class="col-md-2 border">
                <div class="form-group mt-2">
                    <input class="form-control" placeholder="id" name="id">
                </div>
                <div class="form-group mt-2">
                    <input class="form-control" placeholder="pass" name="pass">
                </div>
                <div class="form-group mt-2">
                    <input class="form-control" placeholder="name" name="name">
                </div>
                <div class="form-group mt-2">
                    <input class="form-control" placeholder="email" name="email">
                </div>
                <div class="form-group mt-2">
                    <input class="form-control" placeholder="addr1" name="addr1">
                </div>
                <div class="form-group mt-2">
                    <input class="form-control" placeholder="addr2" name="addr2">
                </div>
                <div class="form-group mt-2">
                    <button id="bt_regist" type="button" class="btn btn-dark">수정</button>
                    <button id="bt_regist" type="button" class="btn btn-dark">삭제</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
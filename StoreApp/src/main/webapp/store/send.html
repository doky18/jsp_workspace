<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<script type="text/javascript">
	let xhttp;	//비동기 통신 객체를 담을 변수
	
	function send(){
		xhttp = new XMLHttpRequest();	
		let name = document.getElementById("name");
		xhttp.open("GET", "/store/test.jsp?name= "+name.value);		//url, 어떤 방식으로... ---준비만
		
		// 서버로부터 응답이 언제 왔는지 등을 알 수 있는 이벤트
		// 즉 서버와의 네트워크 통신 상태를 알 수 있다.
		console.log("A");
		xhttp.onreadystatechange = function() {
			 if (this.readyState == 4 && this.status == 200) {
				// alert("고양이가 보내준 데이터는 "+this.responseText);
				document.getElementById("msg").innerText=this.responseText;
			 }
		};
		xhttp.send();			//이 시점에 요청이 일어남	--- 통신 요청, 고양이가 대답할 때 까지 대기, 대답하면...(호스팅이)
		console.log("B");	//--- A가 실행됨.. 자바에선 그냥 쭉 내려오니까 고양이가 대답하기 전에 A가 찍힘? (자스가)
	}

</script>
<body>
	<input type="text" id="name">
	<button onClick="send()">전송</button>
<div id="msg">현재 아무것도 없다</div>
</body>
</html> 